# ==========================================
# MongoDB Configuration
# ==========================================
# Cấu hình MongoDB Atlas (Cloud)
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/WebOCR?retryWrites=true&w=majority

# Hoặc MongoDB Local
# MONGODB_URI=mongodb://localhost:27017/webocr

# ==========================================
# JWT Configuration (REQUIRED)
# ==========================================
# IMPORTANT: Thay đổi JWT_SECRET thành một chuỗi ngẫu nhiên phức tạp trong production
# Có thể generate bằng: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-very-long-and-secure-secret-key-change-this-in-production

# ==========================================
# Server Configuration
# ==========================================
PORT=3000
NODE_ENV=development

# ==========================================
# Security Configuration
# ==========================================
# Rate limiting (số requests tối đa mỗi IP trong 15 phút)
RATE_LIMIT=100

# ==========================================
# OCR Configuration (Optional)
# ==========================================
OCR_PYTHON_PATH=python
OCR_SCRIPT_PATH=./moduleOCR/easyocrService.py

# ==========================================
# File Upload Configuration
# ==========================================
MAX_FILE_SIZE=10485760
# 10MB in bytes (10 * 1024 * 1024)

# ==========================================
# Cloudinary Configuration (Optional)
# ==========================================
# Đăng ký tại: https://cloudinary.com/
# Get your Cloudinary URL from Dashboard > API Keys
CLOUDINARY_URL=cloudinary://api_key:api_secret@cloud_name

# ==========================================
# Perplexity AI Configuration
# ==========================================
# Get your API key from: https://www.perplexity.ai/settings/api
# Dùng để trích xuất thông tin sách từ OCR text
PPLX_API_KEY=pplx-your-api-key-here

# ==========================================
# Hướng dẫn cấu hình MongoDB Atlas
# ==========================================
# 1. Đăng ký tài khoản tại: https://www.mongodb.com/cloud/atlas
# 2. Tạo Cluster miễn phí (M0)
# 3. Tạo Database User (username & password)
# 4. Whitelist IP: 0.0.0.0/0 (cho phép tất cả IP - development only)
# 5. Lấy Connection String từ "Connect" -> "Connect your application"
# 6. Thay thế <password> bằng mật khẩu database user của bạn
# 7. Thay thế <database> bằng tên database (ví dụ: WebOCR)
#
# Ví dụ connection string:
# MONGODB_URI=mongodb+srv://myuser:mypassword@cluster0.abc123.mongodb.net/WebOCR?retryWrites=true&w=majority

# ==========================================
# Hướng dẫn generate JWT Secret an toàn
# ==========================================
# Chạy lệnh sau trong terminal để tạo JWT secret ngẫu nhiên:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

